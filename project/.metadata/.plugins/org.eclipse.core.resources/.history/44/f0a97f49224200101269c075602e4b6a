#include "led.h"
#include "stm32f4xx.h"  // Update this according to your STM32 series

#define LED_PIN 5 // Using PA5 (you can change this)

void led_init(void)
{
    // Enable GPIOA clock
    RCC->AHB1ENR |= RCC_AHB1ENR_GPIOAEN;

    // Set PA5 as output (MODER5[1:0] = 01)
    GPIOA->MODER &= ~(3U << (LED_PIN * 2)); // Clear bits
    GPIOA->MODER |=  (1U << (LED_PIN * 2)); // Set to output mode
}

void led_on(void)
{
    GPIOA->ODR |= (1U << LED_PIN);
}

void led_off(void)
{
    GPIOA->ODR &= ~(1U << LED_PIN);
}
